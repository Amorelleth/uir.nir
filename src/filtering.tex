\section{Классификация методов фильтрации спама в электронной почте}\label{Section:Filtering}

Одна из причин, по которой спам трудно фильтровать, заключается в
его динамическом характере. Характеристики спама, такие как темы,
повторяющиеся термины и т. д., в электронной почте быстро меняются
со временем, поскольку появляются новые способы обхода спам-фильтров.
Эти способы включают: обфускацию слов, спам в виде изображений,
рассылку спама по электронной почте с взломанных компьютеров и другие.
Понимание природы и эволюции спама может помочь в разработке мер
противодействия. Нет универсального метода защиты от спама, однако
наилучший подход должен обладать механизмом для определения эволюции
характеристик спама. Среди всех традиционных подходов огромного успеха
в борьбе со спамом удалось достичь благодаря фильтрации на основе
содержимого, в частности, системам на основе машинного обучения.
Они обучаются и адаптируются к новым угрозам, реагируя на меры
противодействия спамеров.

Согласно работе \cite{filters}, классификация методов фильтрации спама включает в себя подходы
на основе репутации, на основе текстового содержимого и на основе машинного обучения.

\subsection{На основе репутации (Reputation-based)}

Фильтрация на основе репутации включает в себя анализ источника сообщения, анализ социальных сетей,
анализ трафика и анализ протокола.

\subsubsection{Анализ источника сообщения}

Анализ источника сообщения включает в себя:

\begin{itemize}
    \item[—] Blacklisting — создание и поддержание на уровне пользователя
        или сервера списка адресов электронной почты или IP-адресов сервера,
        с которого, как установлено, исходит спам. Сообщение автоматически
        блокируется на этапе подключения SMTP;
    \item[—] Whitelisting — в противоположность черному списку, список
        предварительно утвержденных или доверенных контактов, доменов или
        IP-адресов, которые могут общаться с пользователем почты.
\end{itemize}


\subsubsection{Анализ социальных сетей}
Социальные сети очень полезны для определения
надежности отправителей, поэтому в подходах к фильтрации спама стали использоваться
взаимодействия в социальных сетях. Например, можно анализировать поля заголовка
электронной почты, чтобы построить граф социальной сети пользователя, а затем классифицировали
сообщения электронной почты на основе «коэффициента кластеризации» подкомпонента графа;

\subsubsection{Анализ трафика}

Анализ трафика включает в себя следующие подходы:

\begin{itemize}
    \item[—] Анализ объема писем — такой фильтр использует алгоритм, который проверяет,
        сколько электронной почты получено от определенного хоста во время последних
        подключений. Если полученное количество писем превышает определенный порог,
        оно классифицируется как спам. Этот фильтр смог правильно классифицировать
        все допустимые электронные письма для достаточно высокого порога. Недостатком
        этого фильтра является то, что при его использовании много ложных срабатываний \cite{IFIP};
    \item[—] SMTP Flow — анализ пути SMTP работает путем изучения «спамовости» или легитимности
        IP-адресов путем изучения истории электронной почты, доставленной через этот IP-адрес.
        Анализ SMTP-трафика при использовании в сочетании с традиционными фильтрами
        действительно повышает точность фильтров.
\end{itemize}

\subsubsection{Анализ протокола}

Анализ протокола включает в себя:

\begin{itemize}
    \item[—] C/R (challenge-response) systems — это спам-фильтр, который автоматически отправляет
        ответ с запросом (предполагаемому) отправителю входящего электронного письма. В этом
        ответе предполагаемого отправителя просят выполнить некоторые действия, чтобы гарантировать
        доставку исходного сообщения, которое в противном случае не было бы доставлено. Действие, которое
        нужно выполнить, может варьироваться от простого вопроса до \emph{CAPTCHA} («Полностью автоматизированный
        общедоступный тест Тьюринга, позволяющий отличить компьютеры от людей»). Отправитель обязан правильно
        ответить в своем ответе; иначе его сообщение будет удалено или помещено в папку для спама. Хотя этот
        метод эффективен для перехвата спама из автоматических систем или бот-сетей, он приводит к нежелательной
        задержке в процессе доставки.
        Системы C/R — противоречивые решения, и их часто критикуют из-за неудобств, связанных с накладными расходами
        на связь. Кроме того, могут быть заблокированы легальные электронные письма из автоматических списков
        рассылки, так как они не справятся с задачей;
    \item[—] SMTP Flow — когда SMTP-клиент подключается в первый раз, сер-\\вер-получатель может проверить,
        заблокирован ли IP-адрес отправителя или его адрес электронной почты или предварительно одобрен.
        Может быть и так, что их нет ни в черном, ни в белом списке. В этом случае сообщение временно отклоняется,
        и получатель отвечает сообщением о временной ошибке SMTP. Затем MTA-получатель записывает идентичность недавних 
        попыток, и его базы данных обновляются информацией о новых клиентах; в соответствии с требованиями SMTP RFC, 
        клиент пытается повторить попытку позже. Следующая попытка может быть принята за законных отправителей. 
        Хотя этот прием кажется очень эффективным, уклониться от него тоже очень просто. Для повторной попытки спамеры 
        могут использовать зомби.
\end{itemize}

\subsection{На основе текстового содержимого}
Фильтрация на основе текстового содержимого включает в себя эвристические и fingerprint-based фильтры.

\subsubsection{Эвристические фильтры}
Первоначально спам-фильтры следовали подходу «инженерии знаний» и основывались
на закодированных правилах или эвристиках. Эвристический фильтр на основе содержимого анализирует содержимое сообщения
и классифицирует его как спам или обычное письмо, основываясь на появлении в нем «спамных» слов, таких
как «виагра» или «лотерея». Они были разработаны на основе знания закономерностей, наблюдаемых в
сообщениях.

Недостатком эвристических фильтров является то, что разработка эффективного набора правил — трудоемкое
дело, более того, правила необходимо постоянно обновлять, чтобы идти в ногу с новейшими тенденциями в
области спама. Спамеры начали использовать «обфускацию» контента, маскируя определенные термины,
которые очень распространены в спам-сообщениях. Более того, написание правил, основанных на регулярных
выражениях, затруднено и подвержено ошибкам. Несмотря на эти ограничения, решение для фильтрации на
основе правил пользовалось успехом с 2004 года до конца прошлого десятилетия.

\subsubsection{Fingerprint-based фильтры}
К данной категории относятся следующие подходы:

\begin{itemize}
    \item[—] Honeypots (приманки) — это сервер-ловушка или система, настроенная исключительно для сбора спама или
        информации о злоумышленниках. Он также используется для идентификации сборщиков адресов электронной
        почты с помощью специально созданных адресов электронной почты и для обнаружения ретрансляторов
        электронной почты. Большинство ловушек-приманок — это бездействующие учетные записи электронной почты,
        логика которых заключается в том, что, если мертвый почтовый ящик не может согласиться на получение
        электронной почты, любой, кто отправляет это письмо, должен быть спамером;
    \item[—] Подход на основе сотрудничества — спамеры обычно рассылают спам огромному количеству получателей. Вполне вероятно, что такой же спам
        был получен кем-то другим. Совместная фильтрация спама — это распределенный подход к фильтрации спама,
        при котором все сообщество работает вместе, имея общие знания о спаме. Подход на основе сотрудничества
        не учитывает содержание электронных писем; скорее, для этого требуется накопление любой идентифицирующей
        информации, касающейся спам-сообщений, например — тема, отправитель, результат вычисления математической
        функции над телом электронного письма и т. д. Спам-сообщения имеют цифровые следы, которые делятся с
        сообществом ранние приемники. Затем пользователи сообщества используют эти отпечатки пальцев спама для
        идентификации электронных писем со спамом. Однако такие схемы страдают от проблем с
        масштабируемостью и некоторых лежащих в основе неявных предположений;
    \item[—] Подход на основе сигнатур — множество антивирусных продуктов работают на основе сигнатур. Хеши ранее
        идентифицированных спам-сообще-\\ний хранятся в базе данных на уровне MTA. Все входящие сообщения
        электронной почты проверяются по этим хешам. Поскольку сигнатуры точно соответствуют шаблонам,
        эта схема может обнаруживать известный спам с очень высокой степенью уверенности.
        Однако серьезным недостатком является то, что неизвестный или вновь созданный спам сможет
        пройти через этот фильтр, не будучи обнаруженным. Базы сигнатур необходимо постоянно обновлять.
        Кроме того, спамеры могут вводить случайную строку в спам-сообщения для генерации различных хешей.
\end{itemize}

\subsection{Фильтрация на основе машинного обучения}
Алгоритмы машинного обучения достигли наибольшего успеха среди
всех предыдущих методов. Некоторые из них будут рассмотрены в следующем разделе.
